
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">


<title>Invitación de Aniversario</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css">
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Playfair+Display&display=swap" rel="stylesheet">
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/countdown@2.6.0/countdown.min.js"></script>

</head>
<body>
<canvas id="fondoFlores"></canvas>

<!-- Título principal con flores laterales -->
<section class="welcome">
 
 <div class="titulo-imagen">
  <img src="title2.png" alt="Aniversario 25">
</div>

<div class="titulo-num">
  <img src="number1.png" alt="Aniversario 25">
</div>
   

  
 


 <div class="divisor">
  <img src="title-Photoroom.png" alt="Divisor decorativo">
</div>

  <!-- Nombres de los novios -->


<div class="titulo-num">
  <img src="name1.png" alt="Aniversario 25">
</div>
   



  <!-- Imagen principal -->
 <div class="imagen-principal">
  <img src="car1.png" alt="Foto principal">
</div>
<!-- reprouctor de musica-->

<!-- Reproductor de música -->
<!-- Reproductor de música -->
<div class="mini-player">
  <button id="playPauseBtn" class="control">▶</button> <!-- inicia con icono play -->
  <audio id="audioPlayer" loop>
    <source src="Christina Aguilera - I Turn To You.mp3" type="audio/mpeg">
  </audio>
</div>



  <!-- Fecha centrada -->
 <div class="fecha-completa fecha-final">
  <div class="dia-semana">Domingo</div>
  <div class="numero-dia">21</div>
  <div class="mes">Diciembre</div>
   <div class="mes">2025</div>
</div>


<div class="divisor">
  <img src="divisor1-Photoroom.png" alt="Divisor decorativo">
</div>


 <!-- ESPACIO PARA UBICACIÓN POR ESCRITO -->
  
  <p class="lugar" style="font-family: 'Great Vibes', cursive; font-size:2rem; margin:10px 0;">
    Salón de Eventos: La estación Salón Jardín
  </p>
   
<p class="hora" style="font-family: 'Great Vibes', cursive; font-size:2rem; margin:10px 0;">Hora: 1:00 pm</p>

  <!-- Botón de ubicación -->
  <div class="ubicacion ">
    <button onclick="abrirUbicacion()">Ver ubicación en el mapa</button>
  </div>
</section>


<!-- Galería de recuerdos -->
<section class="gallery ">
  <h2>Recuerdos</h2>
  <div class="swiper">
    <div class="swiper-wrapper">
      <div class="swiper-slide"><img src="car2.jpeg" alt="Foto 2"></div>
      <div class="swiper-slide"><img src="car3.jpeg" alt="Foto 3"></div>
       <div class="swiper-slide"><img src="car4.jpeg" alt="Foto 3"></div>
        <div class="swiper-slide"><img src="car5.jpeg" alt="Foto 3"></div>
         <div class="swiper-slide"><img src="car6.jpeg" alt="Foto 3"></div>
          <div class="swiper-slide"><img src="car7.jpeg" alt="Foto 3"></div>
           <div class="swiper-slide"><img src="car8.jpeg" alt="Foto 3"></div>
            <div class="swiper-slide"><img src="car9.jpeg" alt="Foto 3"></div>
    </div>
    <div class="swiper-pagination"></div>
  </div>
</section>

<div class="divisor">
  <img src="divisor2-Photoroom.png" alt="Divisor decorativo">
</div>

<!-- Cuenta regresiva -->
<section class="countdown">
  <h2>Cuenta Regresiva</h2>
  <div id="contador" class="contador-texto"></div>
</section>


<section class="rsvp fade-up">
  <h2>Confirma tu asistencia</h2>
  <form id="formAsistencia" 
        action="https://docs.google.com/forms/u/0/d/1ciyuUMH4jdchymKCbKagJgpdQedO_DqL3WSp6aJhYr4/formResponse"
        method="POST" 
        target="hidden_iframe">

    <input type="text" name="entry.1785022762" placeholder="Tu nombre/Familia" required>
  
    <input type="submit" value="Confirmar asistencia" id="btnEnviar">
  </form>
  
  <p id="mensajeRVSP" style="color: green; font-weight: bold; display: none;">
    
  </p>

  <iframe name="hidden_iframe" style="display:none;"></iframe>
</section>

<div class="divisor">
  <img src="divisor3-Photoroom.png" alt="Divisor decorativo">
</div>


<script src="script.js"></script>
<script>
  // Swiper
  const swiper = new Swiper('.swiper', {
    loop: true,
    autoplay: { delay: 3000, disableOnInteraction: false },
    pagination: { el: '.swiper-pagination', clickable: true },
    slidesPerView: 1,
    spaceBetween: 10
  });

  // Animación fade-up al scroll
  const fadeElements = document.querySelectorAll('.fade-up');
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if(entry.isIntersecting && entry.boundingClientRect.top > 0){
        entry.target.classList.add('visible');
      } else {
        entry.target.classList.remove('visible');
      }
    });
  }, { threshold: 0.2 });
  fadeElements.forEach(el => observer.observe(el));

  // Abrir ubicación
  function abrirUbicacion() {
    window.open("https://maps.app.goo.gl/QiC7heJn9QW47XhB6", "_blank");
  }

const fechaObjetivo = new Date("Dec 21, 2025 00:00:00");

function actualizarContador() {
    const ahora = new Date();
    const diferencia = countdown(ahora, fechaObjetivo, countdown.DAYS | countdown.HOURS | countdown.MINUTES | countdown.SECONDS);

    if (ahora >= fechaObjetivo) {
        document.getElementById("contador").textContent = "¡Llegó el gran día!";
    } else {
        document.getElementById("contador").textContent =
            `${diferencia.days}d : ${diferencia.hours}h : ${diferencia.minutes}m : ${diferencia.seconds}s`;
    }
}

// Actualiza cada segundo
actualizarContador();
setInterval(actualizarContador, 1000);
//lista de invitados

const form = document.getElementById("formAsistencia");
const mensaje = document.getElementById("mensajeRVSP");
const boton = document.getElementById("btnEnviar");
const iframe = document.querySelector("iframe[name='hidden_iframe']");

form.addEventListener("submit", function() {
    boton.disabled = true;
    boton.value = "Enviando...";
});

// Cuando el iframe termina de cargar (después de enviar)
iframe.addEventListener("load", function() {
    // Solo mostrar mensaje si se estaba enviando
    if(boton.disabled){
        mensaje.style.display = "block";
        boton.value = "Enviado";
    }
});





// Carga la imagen de la flor
const canvas = document.getElementById('fondoFlores');
const ctx = canvas.getContext('2d');

canvas.width = window.innerWidth;
canvas.height = window.innerHeight;

window.addEventListener('resize', () => {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
});

// Cargar imágenes de flores
const floresImgsSrc = ['flor1.png','leaf2.png','flor3.png','leaf3.png','flor2.png'];
const floresImgs = floresImgsSrc.map(src => {
    const img = new Image();
    img.src = src;
    return img;
});

// Clase Flor
class Flor {
    constructor() { this.reset(); }

    reset() {
        this.x = Math.random() * canvas.width;
        this.y = canvas.height + Math.random() * 100;
        this.size = 20 + Math.random() * 50;
        this.speed = 0.1 + Math.random() * 0.5;
        this.angle = Math.random() * Math.PI * 2;
        this.spin = 0.01 + Math.random() * 0.02;
        this.img = floresImgs[Math.floor(Math.random() * floresImgs.length)];
    }

    update() {
        this.y -= this.speed;
        this.angle += this.spin;
        if(this.y + this.size < 0) this.reset();
    }

    draw() {
        ctx.save();
        ctx.translate(this.x, this.y);
        ctx.rotate(this.angle);
        ctx.drawImage(this.img, -this.size/2, -this.size/2, this.size, this.size);
        ctx.restore();
    }
}

// Crear partículas
const flores = [];
for(let i=0;i<10;i++) flores.push(new Flor());

// Animación
function animarFlores() {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    flores.forEach(f => { f.update(); f.draw(); });
    requestAnimationFrame(animarFlores);
}

//animarFlores();

//musica scrpt 

const audio = document.getElementById('audioPlayer');
const playPauseBtn = document.getElementById('playPauseBtn');

// Inicialmente no está sonando
let isPlaying = false;

playPauseBtn.addEventListener('click', () => {
  if(isPlaying){
    audio.pause();
    playPauseBtn.textContent = "▶"; // cambia a play
  } else {
    audio.play();
    playPauseBtn.textContent = "⏸"; // cambia a pausa
  }
  isPlaying = !isPlaying;
});

// Escucha el movimiento del dispositivo
  window.addEventListener('deviceorientation', (e) => {
    const gamma = e.gamma || 0; // inclinación izquierda/derecha
    const beta = e.beta || 0;   // inclinación adelante/atrás

    // Normalizamos el rango (gamma: -45 a 45, beta: 0 a 90 aprox)
    const x = (gamma + 45) / 90; // 0 a 1
    const y = (beta) / 90;       // 0 a 1

    // Ajusta la posición del gradiente según el movimiento
    document.body.style.backgroundPosition = `${x * 100}% ${y * 100}%`;

    // Opcional: cambia ligeramente el ángulo para más realismo
    const angle = 90 + gamma / 2;
    document.body.style.background = 
       `linear-gradient(${angulo}deg, #b0b0b0 0%, #e8e8e8 25%, #9c9c9c 50%, #f2f2f2 75%, #6e6e6e 100%)`;
  });

// iPhone → animación automática
function iniciarReflejoAnimado() {
  let angulo = 0;
  setInterval(() => {
    angulo = (angulo + 1) % 360;
    const color1 = `hsl(${(angulo + 0) % 360}, 0%, 90%)`;
    const color2 = `hsl(${(angulo + 60) % 360}, 0%, 70%)`;
    const color3 = `hsl(${(angulo + 120) % 360}, 0%, 95%)`;
    const color4 = `hsl(${(angulo + 180) % 360}, 0%, 60%)`;
    const color5 = `hsl(${(angulo + 240) % 360}, 0%, 85%)`;
    document.body.style.background =
      `linear-gradient(${angulo}deg, ${color1} 0%, ${color2} 25%, ${color3} 50%, ${color4} 75%, ${color5} 100%)`;
  }, 50); // 20fps
}

// Detectar dispositivo
if (esIOS()) {
  iniciarReflejoAnimado();
} else {
  iniciarReflejoInteractivo();
}

</script>

</body>
</html>
